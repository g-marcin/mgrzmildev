import{u as m,j as a,d as f,r as o,a as x,c as v,N as j}from"./index-ac2c5ba8.js";import{h as _}from"./httpClient-df0bb4a1.js";import{s as h}from"./dogError.module-6f44217b.js";const E=()=>{const{t}=m();return a.jsxs("div",{className:h.wrapper,children:[a.jsx("img",{src:f,alt:"search",className:h.icon}),a.jsx("h1",{children:t("headers.unfortunately")}),a.jsxs("p",{children:[t("errors.noBreed1"),a.jsx("br",{}),t("errors.noBreed2")]})]})},N=t=>({imageSrc:t.message,status:t.status,code:t.code}),$=(t="",r="")=>{const[c,d]=o.useState({imageSrc:""}),[p,g]=o.useState(!1),[l,e]=o.useState(!1);return o.useEffect(()=>{g(!0),_.get(`/breed/${t}${(r&&"/")+r}/images/random`).then(i=>{if(!i.data.code)e(!1),d(N(i.data));else throw new Error(`${i.data.code} ${i.data.status}`)}).then(()=>g(!1)).catch(i=>{console.error(i),e(!0)})},[t,r]),{dogDetails:c,isLoading:p,isError:l}},D=t=>t.message,q=t=>{const[r,c]=o.useState([""]),[d,p]=o.useState(!1),[g,l]=o.useState(!1);return o.useEffect(()=>{p(!0),_.get(`/breed/${t}/list`).then(e=>{if(!e.data.code)l(!1),c(D(e.data));else{if(!e.data.status)return;throw new Error(`${e.data.code} ${e.data.status}`)}}).then(()=>p(!1)).catch(e=>{console.error(e),l(!0)})},[t]),{dogVariants:r,isLoading:d,isError:g}},w="_tag_13qra_40",S="_close_13qra_73",n={"main-wrapper":"_main-wrapper_13qra_1","image-wrapper":"_image-wrapper_13qra_8","details-avatar":"_details-avatar_13qra_14","avatar-description":"_avatar-description_13qra_25","description-wrapper":"_description-wrapper_13qra_35",tag:w,"tag-active":"_tag-active_13qra_54","tags-wrapper":"_tags-wrapper_13qra_66",close:S,"loader-wrapper":"_loader-wrapper_13qra_77"},M=()=>{const t=x(),{t:r}=m(),{breedName:c,variant:d}=v(),{dogDetails:p,isError:g}=$(c,d),{dogVariants:l}=q(c||"");if(!c)return;const e=s=>(s==null?void 0:s.charAt(0).toLocaleUpperCase())+(s==null?void 0:s.slice(1)),i=({isActive:s})=>s?n["tag-active"]:n.tag;return a.jsx(a.Fragment,{children:g?a.jsx(E,{}):a.jsxs("div",{className:n["main-wrapper"],children:[a.jsxs("div",{className:n["image-wrapper"],children:[a.jsx("img",{src:`${p.imageSrc}`,alt:"dog-image",className:n["details-avatar"],onClick:()=>t(0)}),a.jsx("div",{className:n["avatar-description"],children:r("buttons.clickMe")})]}),a.jsxs("div",{className:n["description-wrapper"],children:[a.jsxs("h1",{children:[e(c),":"]}),a.jsx("p",{children:r("content.dogDescription1")}),a.jsx("p",{children:r("content.dogDescription2")})]}),a.jsxs("h1",{children:[e(c)," ",r("headers.variants")]}),a.jsxs("div",{className:n["tags-wrapper"],children:[l.length===0&&a.jsx("p",{className:n.tag,children:r("content.noVariants")}),l.map(s=>a.jsx(j,{onClick:u=>{u.target.innerHTML===d&&(u.preventDefault(),t(`/search/${c}`))},to:`/search/${c}/${s}`,className:i,children:s},s))]})]})})};export{M as default};
